#!/usr/bin/env ts-node
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x456fc3){return _0x456fc3&&_0x456fc3['__esModule']?_0x456fc3:{'default':_0x456fc3};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const mongoose_1=__importDefault(require('mongoose')),config_1=__importDefault(require('../config/config')),data_seeder_1=__importDefault(require('../services/data-seeder')),logger_1=require('../utils/logger'),connectDatabase=async _0x211fef=>{try{const _0x277f83={'autoCreate':!![],'keepAlive':!![],'retryReads':!![]};mongoose_1['default']['set']('strictQuery',!![]);const _0x17df7c=await mongoose_1['default']['connect'](_0x211fef,_0x277f83);_0x17df7c&&logger_1['logger']['info']('MongoDB\x20connected');}catch(_0x312cb3){logger_1['logger']['error']('ConnectDatabase:\x20'+_0x312cb3['message']);throw _0x312cb3;}},seedMasterData=async()=>{try{logger_1['logger']['info']('Starting\x20master\x20data\x20seeding\x20script...');if(!config_1['default']['DATABASE'])throw new Error('DATABASE\x20environment\x20variable\x20is\x20not\x20set');await connectDatabase(config_1['default']['DATABASE']);const _0xfb2c8a=new data_seeder_1['default']();await _0xfb2c8a['seedAllMasterData'](),logger_1['logger']['info']('Master\x20data\x20seeding\x20completed\x20successfully'),process['exit'](0x0);}catch(_0x4b34c4){logger_1['logger']['error']('Failed\x20to\x20seed\x20master\x20data:\x20'+_0x4b34c4['message']),process['exit'](0x1);}};seedMasterData();