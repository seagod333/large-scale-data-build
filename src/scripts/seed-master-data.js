#!/usr/bin/env ts-node
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x59458a){return _0x59458a&&_0x59458a['__esModule']?_0x59458a:{'default':_0x59458a};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const mongoose_1=__importDefault(require('mongoose')),config_1=__importDefault(require('../config/config')),data_seeder_1=__importDefault(require('../services/data-seeder')),logger_1=require('../utils/logger'),connectDatabase=async _0x564dd8=>{try{const _0x4069fc={'autoCreate':!![],'keepAlive':!![],'retryReads':!![]};mongoose_1['default']['set']('strictQuery',!![]);const _0x56468c=await mongoose_1['default']['connect'](_0x564dd8,_0x4069fc);_0x56468c&&logger_1['logger']['info']('MongoDB\x20connected');}catch(_0x1526f3){logger_1['logger']['error']('ConnectDatabase:\x20'+_0x1526f3['message']);throw _0x1526f3;}},seedMasterData=async()=>{try{logger_1['logger']['info']('Starting\x20master\x20data\x20seeding\x20script...');if(!config_1['default']['DATABASE'])throw new Error('DATABASE\x20environment\x20variable\x20is\x20not\x20set');await connectDatabase(config_1['default']['DATABASE']);const _0x3a95d7=new data_seeder_1['default']();await _0x3a95d7['seedAllMasterData'](),logger_1['logger']['info']('Master\x20data\x20seeding\x20completed\x20successfully'),process['exit'](0x0);}catch(_0x10a9d1){logger_1['logger']['error']('Failed\x20to\x20seed\x20master\x20data:\x20'+_0x10a9d1['message']),process['exit'](0x1);}};seedMasterData();