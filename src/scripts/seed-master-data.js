#!/usr/bin/env ts-node
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x509be5){return _0x509be5&&_0x509be5['__esModule']?_0x509be5:{'default':_0x509be5};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const mongoose_1=__importDefault(require('mongoose')),config_1=__importDefault(require('../config/config')),data_seeder_1=__importDefault(require('../services/data-seeder')),logger_1=require('../utils/logger'),connectDatabase=async _0x35a74c=>{try{const _0x5dc8e5={'autoCreate':!![],'keepAlive':!![],'retryReads':!![]};mongoose_1['default']['set']('strictQuery',!![]);const _0x1c0427=await mongoose_1['default']['connect'](_0x35a74c,_0x5dc8e5);_0x1c0427&&logger_1['logger']['info']('MongoDB\x20connected');}catch(_0x15e1bb){logger_1['logger']['error']('ConnectDatabase:\x20'+_0x15e1bb['message']);throw _0x15e1bb;}},seedMasterData=async()=>{try{logger_1['logger']['info']('Starting\x20master\x20data\x20seeding\x20script...');if(!config_1['default']['DATABASE'])throw new Error('DATABASE\x20environment\x20variable\x20is\x20not\x20set');await connectDatabase(config_1['default']['DATABASE']);const _0x2fab79=new data_seeder_1['default']();await _0x2fab79['seedAllMasterData'](),logger_1['logger']['info']('Master\x20data\x20seeding\x20completed\x20successfully'),process['exit'](0x0);}catch(_0x9e4c19){logger_1['logger']['error']('Failed\x20to\x20seed\x20master\x20data:\x20'+_0x9e4c19['message']),process['exit'](0x1);}};seedMasterData();