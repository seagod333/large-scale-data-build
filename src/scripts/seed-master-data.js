#!/usr/bin/env ts-node
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2ee89e){return _0x2ee89e&&_0x2ee89e['__esModule']?_0x2ee89e:{'default':_0x2ee89e};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const mongoose_1=__importDefault(require('mongoose')),config_1=__importDefault(require('../config/config')),data_seeder_1=__importDefault(require('../services/data-seeder')),logger_1=require('../utils/logger'),connectDatabase=async _0x446777=>{try{const _0x478d1d={'autoCreate':!![],'keepAlive':!![],'retryReads':!![]};mongoose_1['default']['set']('strictQuery',!![]);const _0x45deae=await mongoose_1['default']['connect'](_0x446777,_0x478d1d);_0x45deae&&logger_1['logger']['info']('MongoDB\x20connected');}catch(_0x449479){logger_1['logger']['error']('ConnectDatabase:\x20'+_0x449479['message']);throw _0x449479;}},seedMasterData=async()=>{try{logger_1['logger']['info']('Starting\x20master\x20data\x20seeding\x20script...');if(!config_1['default']['DATABASE'])throw new Error('DATABASE\x20environment\x20variable\x20is\x20not\x20set');await connectDatabase(config_1['default']['DATABASE']);const _0x2cb878=new data_seeder_1['default']();await _0x2cb878['seedAllMasterData'](),logger_1['logger']['info']('Master\x20data\x20seeding\x20completed\x20successfully'),process['exit'](0x0);}catch(_0x5c454b){logger_1['logger']['error']('Failed\x20to\x20seed\x20master\x20data:\x20'+_0x5c454b['message']),process['exit'](0x1);}};seedMasterData();